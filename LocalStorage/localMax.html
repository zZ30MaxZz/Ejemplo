<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div id="contenedor"></div>

	<script>
		localStorage.setItem("nombre", "asdas");

		document.getElementById("contenedor").innerHTML=localStorage.getItem("nombre");
        
        var dni=document.getElementById("dni").value;
        var nom=document.getElementById("nombre").value;
        var apell=document.getElementById("apellido").value;
        
       
        function Salida()
        {
            var x=document.getElementById("salida");
            
            var dni=document.getElementById("dni").value;
            var nombre=document.getElementById("nombre").value;
            var apellido=document.getElementById("apellido").value;
            
            var persona = [dni, nombre, apellido];                 
            x.innerHTML="Se detuvo el proceso";
            if(localStorage.getItem("datosPersona").length==0)
             {      
                 x.innerHTML="Se detuvo el proceso";
                 
                 var array = [];
                 array.push(persona);
                 var cadena = JSON.stringify(array);
                 
                 localStorage.setItem("datosPersona", cadena);
                 
                 x.innerHTML="Hay un elemento guardado"+"-"+cadena;
             }
            else
            {
                x.innerHTML="Se detuvo el proceso";
                
                var cadena = localStorage.getItem("datosPersona")
                
                var array = JSON.parse(cadena);
                
                array.push(persona);
                
                cadena = JSON.stringify(array);
                
                localStorage.setItem("datosPersona", cadena);
                
                x.innerHTML="Hay un elemento guardado"+"-";
            }
            
        }
        
        function Listar()
        {
            var x=document.getElementById("salida");
            
            var persona="";
            
            if(true)
            {
                x.innerHTML="Se detuvo el proceso";
                var cadena = localStorage.getItem("datosPersona");
                var array = JSON.parse(cadena);
                
                for (i=0;i<array.length;i++)
                { 
                    persona+="<br>"+array[i][0]+"--"+array[i][1]+"--"+array[i][2];
                }
                
            }
            x.innerHTML="Lista de personas"+persona;
        }
        
	</script>
	
	
	DNI:<input id="dni" type="text"><br>
	NOMBRE<input id="nombre" type="text"><br>
	APELLIDO<input id="apellido" type="text"><br>
	
	<input type="button" value="Obtener posiciÃ³n" onclick="getLocation();"><br>
	<input type="button" value="agregar" onclick="Salida();">
	<input type="button" value="Listar" onclick="Listar();">

	<p id="demo"></p>
	<p id="salida"></p>

	<script>
		var x=document.getElementById("demo");

		function getLocation()
		{
			navigator.geolocation.getCurrentPosition(showPosition);
		}

		function showPosition(position)
		{
			x.innerHTML="Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
		}
	</script>
</body>
</html>